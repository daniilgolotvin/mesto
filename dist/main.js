(()=>{"use strict";var e,t;function n(e,t){e.classList.add(t),e.disabled=!0}function r(e,t,r){n(t,r),function(e){return e.some((function(e){return!e.validity.valid}))}(e)?n(t,r):function(e,t){e.classList.remove(t),e.disabled=!1}(t,r)}function o(e){e.classList.add("popup_open"),document.addEventListener("keydown",u)}function c(e){n(editSubmitButton,"popup__save-button_inactive"),e.classList.remove("popup_open"),document.removeEventListener("keydown",u)}function u(e){if("Escape"===e.key){var t=document.querySelector(".popup_open");t&&c(t)}}e={formSelector:".popup__form",inputSelector:".popup__name",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_inactive",inputErrorTypeClass:".popup__name_type_error",errorClassActive:"popup__input-error_active",inputErrorType:".popup__input-error_type_",fieldsetList:".popup__fieldset"},t=document.forms,Array.from(t).forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var o=Array.from(e.querySelectorAll(t.inputSelector)),c=e.querySelector(t.submitButtonSelector);r(o,c,t.inactiveButtonClass),e.addEventListener("reset",(function(){n(c,t.inactiveButtonClass)})),o.forEach((function(n){n.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=n.inputErrorType,o=n.inputErrorTypeClass,c=n.errorClassActive,u=e.querySelector("".concat(r).concat(t.id));t.classList.remove(o),u.classList.remove(c),u.textContent=""}(e,t,n):function(e,t,n){var r=n.inputErrorType,o=n.inputErrorTypeClass,c=n.errorClassActive,u=e.querySelector("".concat(r).concat(t.id));t.classList.add(o),u.textContent=t.validationMessage,u.classList.add(c)}(e,t,n)}(e,n,t),r(o,c,t.inactiveButtonClass)}))}))}(t,e)}));var i=document.querySelector(".elements__template").content,a=document.querySelector(".elements"),s=document.querySelector(".popup-image"),p=s.querySelector(".popup__container-title"),l=s.querySelector(".popup__container-image"),d=document.querySelector(".add-name"),m=document.querySelector(".add-link"),v=document.querySelector(".add-popup");function f(e){e.target.classList.toggle("element__group-button-active")}function y(e){var t=e.target.closest(".element");t&&t.remove()}function _(e){var t=function(e){var t=i.cloneNode(!0),n=t.querySelector(".element__card-image"),r=t.querySelector(".element__group-title"),c=t.querySelector(".element__group-button"),u=t.querySelector(".element__card-trashbutton");return n.setAttribute("src",e.link),n.setAttribute("alt",e.name),r.textContent=e.name,c.addEventListener("click",f),u.addEventListener("click",y),n.addEventListener("click",(function(e){o(s),l.src=e.target.getAttribute("src"),l.alt=e.target.getAttribute("alt"),p.textContent=l.alt})),t}(e);a.prepend(t)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach(_);var S=document.querySelector(".profile-popup"),q=document.querySelector(".add-popup"),k=document.querySelector("#open-popup"),E=document.querySelector("#button-add"),b=document.querySelector("#profile-name"),g=document.querySelector("#user-name"),L=document.querySelector("#profile-description"),C=(document.querySelector("#editSubmitButton"),document.querySelector("#user-post")),h=S.querySelector(".popup__form");document.querySelectorAll(".popup__close-button").forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return c(t)}))})),k.addEventListener("click",(function(){o(S),g.value=b.textContent,C.value=L.textContent.trim()})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("click",(function(t){t.target===e&&c(e)}))})),E.addEventListener("click",(function(){o(q)})),h.addEventListener("submit",(function(e){e.preventDefault(),b.textContent=g.value,L.textContent=C.value.trim(),c(S)})),q.addEventListener("submit",(function(e){e.preventDefault(),_({name:d.value.trim(),link:m.value}),c(v),e.target.reset()}))})();